:root {
    /* Font Family */
    --font-family-sans-serif: 'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;

    /* Colors */
    --color-background: #f8f9fa; /* Off-white, very light gray */
    --color-surface: #ffffff; /* White for cards/surfaces */
    --color-primary: #0052cc; /* A strong, professional blue */
    --color-primary-light: #e6f0ff;
    --color-secondary: #4A5568; /* Dark gray for text */
    --color-muted: #718096; /* Lighter gray for secondary text */
    --color-border: #e2e8f0; /* Light border color */

    /* Status Colors */
    --status-normal-bg: #e6fff0;
    --status-normal-text: #00875a; /* Dark Green */
    --status-normal-dot: #00c851;

    --status-alert-fire-bg: #ffebe9;
    --status-alert-fire-text: #c82121; /* Dark Red */
    --status-alert-fire-dot: #ff4d4f;

    --status-alert-missing-bg: #fff8e1;
    --status-alert-missing-text: #b88100; /* Dark Orange/Yellow */
    --status-alert-missing-dot: #ffab00;

    --status-stale-bg: #f0f2f5;
    --status-stale-text: #5A6872; /* Mid Gray */
    --status-stale-dot: #8492a6;
    
    --status-unknown-bg: #f0f2f5;
    --status-unknown-text: #5A6872;
    --status-unknown-dot: #8492a6;


    /* Chart Colors */
    --temp-chart-color: #ff7859; /* A warm orange/red for temperature */
    --smoke-chart-color: #0077b6; /* A cool blue for smoke */

    /* Spacing & Sizing */
    --spacing-unit: 8px;
    --border-radius: 12px; /* Softer, larger radius */
    --border-radius-small: 6px;

    /* Shadows */
    --shadow-sm: 0 2px 4px rgba(0,0,0,0.05);
    --shadow-md: 0 4px 12px rgba(0,0,0,0.08);
    --shadow-lg: 0 10px 20px rgba(0,0,0,0.1);
    
    /* Warna baru untuk deteksi orang */
    --people-detection-color: #0077b6; /* Biru yang sama dengan asap untuk konsistensi */
    --people-detection-bg: #e6f7ff;
}

*, *::before, *::after {
    box-sizing: border-box;
}

body {
    font-family: var(--font-family-sans-serif);
    margin: 0;
    background-color: var(--color-background);
    color: var(--color-secondary);
    line-height: 1.65;
    font-size: 15px; /* Slightly smaller base for a cleaner look */
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

.page-wrapper {
    display: flex;
    flex-direction: column;
    min-height: 100vh;
}

.container {
    width: 92%;
    max-width: 1500px; /* Wider for dashboard, more space */
    margin: 0 auto;
    padding: 0 var(--spacing-unit);
}

/* Header */
.dashboard-header {
    background-color: var(--color-surface);
    padding: calc(var(--spacing-unit) * 2.5) 0; /* 20px */
    border-bottom: 1px solid var(--color-border);
    box-shadow: var(--shadow-sm);
    position: sticky;
    top: 0;
    z-index: 1000;
}

.header-content {
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.logo-title {
    display: flex;
    align-items: center;
}

.logo-icon {
    font-size: 1.8rem; /* 28.8px */
    color: var(--color-primary);
    margin-right: calc(var(--spacing-unit) * 1.5); /* 12px */
}

.dashboard-header h1 {
    margin: 0;
    font-size: 1.5rem; /* 24px */
    font-weight: 600;
    color: var(--color-secondary);
    letter-spacing: -0.5px;
}

.overall-status-chip {
    display: flex;
    align-items: center;
    padding: var(--spacing-unit) calc(var(--spacing-unit) * 2); /* 8px 16px */
    border-radius: var(--border-radius);
    font-size: 0.9rem; /* 14.4px */
    font-weight: 500;
    transition: background-color 0.3s ease, color 0.3s ease;
}

.status-dot {
    width: 10px;
    height: 10px;
    border-radius: 50%;
    margin-right: var(--spacing-unit); /* 8px */
    background-color: var(--color-muted); /* Default dot color */
    transition: background-color 0.3s ease;
}

/* Overall Status Styles */
.overall-status-NORMAL { background-color: var(--status-normal-bg); color: var(--status-normal-text); }
.overall-status-NORMAL .status-dot { background-color: var(--status-normal-dot); }

.overall-status-ALERT_FIRE { background-color: var(--status-alert-fire-bg); color: var(--status-alert-fire-text); animation: pulse-background-error 1.5s infinite ease-in-out; }
.overall-status-ALERT_FIRE .status-dot { background-color: var(--status-alert-fire-dot); }

.overall-status-ALERT_MISSING, .overall-status-STALE, .overall-status-WARNING { /* Grouping warnings */
    background-color: var(--status-alert-missing-bg); color: var(--status-alert-missing-text);
}
.overall-status-ALERT_MISSING .status-dot, .overall-status-STALE .status-dot, .overall-status-WARNING .status-dot {
    background-color: var(--status-alert-missing-dot);
}

@keyframes pulse-background-error {
  0% { background-color: var(--status-alert-fire-bg); }
  50% { background-color: #ffddd9; } /* Lighter shade of the bg */
  100% { background-color: var(--status-alert-fire-bg); }
}


/* Main Content */
.dashboard-main {
    flex-grow: 1;
    padding-top: calc(var(--spacing-unit) * 4); /* 32px */
    padding-bottom: calc(var(--spacing-unit) * 4);
}

.rooms-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(360px, 1fr));
    gap: calc(var(--spacing-unit) * 3); /* 24px */
}

/* Room Card Design */
.room-card {
    background-color: var(--color-surface);
    border-radius: var(--border-radius);
    border: 1px solid var(--color-border);
    box-shadow: var(--shadow-sm);
    padding: calc(var(--spacing-unit) * 2.5); /* 20px */
    display: flex;
    flex-direction: column;
    transition: box-shadow 0.25s ease-in-out, transform 0.25s ease-in-out;
}

.room-card:hover {
    box-shadow: var(--shadow-md);
    transform: translateY(-3px);
}

.card-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start; /* Align items to top for varied badge heights */
    margin-bottom: calc(var(--spacing-unit) * 2); /* 16px */
}

.card-header h2 {
    margin: 0;
    font-size: 1.2rem; /* 19.2px */
    font-weight: 600;
    color: var(--color-secondary);
    display: flex;
    align-items: center;
}
.card-header h2 i {
    margin-right: var(--spacing-unit); /* 8px */
    color: var(--color-primary);
    font-size: 1.1em;
}

.status-badge {
    padding: calc(var(--spacing-unit)*0.5) calc(var(--spacing-unit)*1.5); /* 4px 12px */
    border-radius: var(--border-radius-small);
    font-size: 0.75rem; /* 12px */
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    white-space: nowrap;
    border: 1px solid transparent;
}

.status-NORMAL { background-color: var(--status-normal-bg); color: var(--status-normal-text); border-color: var(--status-normal-dot);}
.status-ALERT_FIRE { background-color: var(--status-alert-fire-bg); color: var(--status-alert-fire-text); border-color: var(--status-alert-fire-dot); animation: pulse-border-error 1.5s infinite; }
.status-ALERT_MISSING { background-color: var(--status-alert-missing-bg); color: var(--status-alert-missing-text); border-color: var(--status-alert-missing-dot); }
.status-STALE { background-color: var(--status-stale-bg); color: var(--status-stale-text); border-color: var(--status-stale-dot);}
.status-UNKNOWN { background-color: var(--status-unknown-bg); color: var(--status-unknown-text); border-color: var(--status-unknown-dot);}

@keyframes pulse-border-error {
    0% { border-color: var(--status-alert-fire-dot); }
    50% { border-color: transparent; }
    100% { border-color: var(--status-alert-fire-dot); }
}

.sensor-readings {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: calc(var(--spacing-unit) * 1.5); /* 12px */
    margin-bottom: calc(var(--spacing-unit) * 2); /* 16px */
}

.sensor-reading-item {
    background-color: var(--color-background); /* Slightly different from card bg */
    padding: var(--spacing-unit) calc(var(--spacing-unit) * 1.5); /* 8px 12px */
    border-radius: var(--border-radius-small);
    font-size: 0.9rem; /* 14.4px */
    display: flex;
    align-items: center;
    border: 1px solid var(--color-border);
}

.sensor-reading-item i {
    margin-right: var(--spacing-unit); /* 8px */
    font-size: 1.1em;
}
.sensor-reading-item .temp-icon { color: var(--temp-chart-color); }
.sensor-reading-item .smoke-icon { color: var(--smoke-chart-color); }

.sensor-reading-item .value {
    font-weight: 600;
    color: var(--color-secondary);
    margin-left: auto; /* Pushes value to the right */
}

/* === GAYA BARU UNTUK PEOPLE DETECTION === */
.people-detection-reading {
    background-color: var(--people-detection-bg);
    padding: var(--spacing-unit) calc(var(--spacing-unit) * 1.5); /* 8px 12px */
    border-radius: var(--border-radius-small);
    font-size: 0.9rem; /* 14.4px */
    display: flex; /* Menggunakan flex untuk alignment */
    align-items: center;
    border: 1px solid var(--people-detection-color);
    margin-top: calc(var(--spacing-unit) * 1.5); /* 12px, spasi dari atas */
    margin-bottom: calc(var(--spacing-unit) * 0.5); /* Spasi sedikit ke bawah */
    color: var(--people-detection-color); /* Warna teks utama */
}

.people-detection-reading .people-icon {
    margin-right: var(--spacing-unit);
    font-size: 1.1em;
    color: var(--people-detection-color); /* Warna ikon */
}

.people-detection-reading .value {
    font-weight: 700; /* Lebih tebal karena ini data krusial */
    color: var(--color-primary); /* Biru tua agar kontras */
    margin-left: auto;
    font-size: 1rem; /* Sedikit lebih besar */
}
/* === AKHIR GAYA BARU === */


.chart-group {
    margin-bottom: calc(var(--spacing-unit) * 1.5); /* 12px */
}

.chart-container {
    height: 130px; /* Reduced height for sleeker look */
    background-color: var(--color-background);
    border-radius: var(--border-radius-small);
    padding: var(--spacing-unit);
    border: 1px solid var(--color-border);
}
.chart-container canvas {
    max-width: 100%;
    max-height: 100%;
}

.card-footer {
    margin-top: auto;
    font-size: 0.8rem; /* 12.8px */
    color: var(--color-muted);
    text-align: right;
    padding-top: var(--spacing-unit); /* 8px */
    border-top: 1px solid var(--color-border);
}

/* Loading & Error Placeholders */
.loading-placeholder, .error-placeholder {
    grid-column: 1 / -1;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: calc(var(--spacing-unit) * 5); /* 40px */
    color: var(--color-muted);
    min-height: 200px;
}
.loading-placeholder p, .error-placeholder p {
    margin-top: var(--spacing-unit); /* 8px */
    font-size: 1rem; /* 16px */
}
.spinner {
    width: 40px;
    height: 40px;
    border: 4px solid var(--color-primary-light);
    border-top-color: var(--color-primary);
    border-radius: 50%;
    animation: spin 1s linear infinite;
}
@keyframes spin {
    to { transform: rotate(360deg); }
}
.error-placeholder i {
    font-size: 2rem; /* 32px */
    color: var(--status-alert-fire-dot);
    margin-bottom: var(--spacing-unit);
}

/* Footer */
.dashboard-footer {
    background-color: var(--color-surface);
    color: var(--color-muted);
    text-align: center;
    padding: calc(var(--spacing-unit) * 2) 0; /* 16px */
    border-top: 1px solid var(--color-border);
    font-size: 0.85rem; /* 13.6px */
}

/* Responsive adjustments */
@media (max-width: 1200px) {
    .rooms-grid {
        grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
    }
}

@media (max-width: 768px) {
    .dashboard-header h1 {
        font-size: 1.3rem; /* 20.8px */
    }
    .logo-icon {
        font-size: 1.6rem; /* 25.6px */
    }
    .overall-status-chip {
        font-size: 0.8rem; /* 12.8px */
        padding: calc(var(--spacing-unit)*0.75) var(--spacing-unit); /* 6px 8px */
    }
    .status-dot {
        width: 8px;
        height: 8px;
    }
    .rooms-grid {
        grid-template-columns: 1fr; /* Single column */
        gap: calc(var(--spacing-unit) * 2.5); /* 20px */
    }
    .card-header h2 {
        font-size: 1.1rem; /* 17.6px */
    }
}

@media (max-width: 480px) {
    body { font-size: 14px; }
    .dashboard-header { padding: var(--spacing-unit) * 2 0; } /* 16px */
    .dashboard-header h1 { font-size: 1.1rem; } /* 17.6px */
    .logo-icon { display: none; } /* Hide logo icon on very small screens */
    .header-content { flex-direction: column; gap: var(--spacing-unit); }
    .overall-status-chip { width: 100%; justify-content: center;}
    .sensor-readings { grid-template-columns: 1fr; } /* Stack sensor readings */
    .chart-container { height: 120px; }
}